# Домашнее задание №22

> Всем привет! На этом занятии в первую очередь необходимо подключиться
> к базе данных, которую вы сможете использовать.
> Ниже инструкция!

## Подключение к удаленной базе данных

Вам нужно настроить подключение приложения к базе данных и подключение любого  
клиента к этой базе (например, `pgAdmin`).

***

**Подключение к приложению.** Необходимо добавить данные о базе в
файл `application.yml`.

```yaml
spring:
  datasource:
    url: jdbc:postgresql://rc1b-0ckq9oilrgugcaer.mdb.yandexcloud.net:6432/javapro
    username: javapro
    password: ELncWdLB
```

После этого запустите приложение и проверьте, что все заработало.
Если приложение подключилось к БД, то вы увидите следующие строчки:

```shell
2022-12-08 16:28:18.272  INFO 50157 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-12-08 16:28:18.583  INFO 50157 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-12-08 16:28:18.607  INFO 50157 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-12-08 16:28:18.625  INFO 50157 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.14.Final
2022-12-08 16:28:18.692  INFO 50157 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-12-08 16:28:18.735  INFO 50157 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-12-08 16:28:18.964  INFO 50157 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-12-08 16:28:18.967  INFO 50157 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
```

***

**Подключение к клиенту.** Тут все еще проще - как обычно создаете новый сервер
внутри `pgAdmin` и вводите данные по нашей БД.

| Название параметра | Значение параметра                        |
|--------------------|-------------------------------------------|
| host               | rc1b-0ckq9oilrgugcaer.mdb.yandexcloud.net |
| port               | 6432                                      |
| database           | javapro                                   |
| username           | javapro                                   |
| password           | ELncWdLB                                  |

> После этого необходимо сделать схему со своим ником или фамилией. 
> Например, моя схема называется `koritskiy`. Внутри можете создавать сколько угодно таблиц и делать все что угодно!

## Предисловие перед задачами
Перед тем как начать делать наши задачки надо сделать следующие действия:
1. Склонировать проект
2. Перейти в нем и создать папку с вашим ником/фамилией и уже внутри этой папки реализовывать проект
3. В `Idea` надо открывать не папку с домашкой, а именно свою папку с проектом внутри

> Придерживайтесь простого правила: одна задача = один коммит. 
> После каждой задачи можете спокойно коммитить, однако в этом случае делайте задачки последовательно.

## Задача №1
Создайте проект c помощью инициализатора, который мы уже использовали.
Проект на `maven` и на любой `java` (желательно на 8). Зависимости (в предыдущем проекте такие же):
1. `Spring Web`
2. `Jpa`
3. `PostgreSql`

После этого добавьте данные по подключению к БД в ваш проект и попробуйте запустить. 
Успешный запуск приложения - это выполненная задача!

## Задача №2
Мы уже делали работу с пользователями и постами. Давайте теперь сделаем приложение
для автомобильного салона! Вот некоторые задачки, которые нужно сделать:
1. Создать таблицу автомобиля, в которой должно быть минимум 5 полей (любых)
2. Реализовать создание автомобиля
3. Реализовать изменение автомобиля (можно изменить любое поле, кроме `id`)
4. Реализовать удаление автомобиля по `id`

Как только это сделали - можете пушить :)

## Задача №3
Зачем иметь автомобильный салон, если нельзя продавать? :)
1. Вам необходимо создать таблицу продажи автомобиля (поля простые: id, id-автомобиля и цена продажи автомобиля)
2. Реализовать возможность создать покупку автомобиля
3. Реализовать API, которое будет возвращать вам общую сумму продаж всех автомобилей. Это поможет нам знать, сколько наш автосалон заработал.

После этого можете сдавать и третью задачу!

## Задача №4 
> Если не успеваете, ничего страшного - эта задача лишь закрепляет знания, полученные в первых трех задачах

А теперь представьте, что наш автосалон немного расширяется и с этой задачи продает не только автомобили, 
но и мотоциклы! Реализуйте такой же функционал для мотоциклов (добавление мотоциклов, их продажа и так далее).